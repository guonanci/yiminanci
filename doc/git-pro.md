#1起步 及 历史

1.1.2 集中化的版本控制系统
接下来人们又遇到一个问题，如何让在不同系统上的开发者协同工作？于是，集中化的版
本控制系统（ Centralized Version Control Systems，简称 CVCS ）应运而生。这类系
图 1.1: 本地版本控制系统
统，诸如 CVS，Subversion 以及 Perforce 等，都有一个单一的集中管理的服务器，保存
所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或
者提交更新。多年以来，这已成为版本控制系统的标准做法（见图 1-2）。

这种做法带来了许多好处，特别是相较于老式的本地 VCS 来说。现在，每个人都可以在
一定程度上看到项目中的其他人正在做些什么。而管理员也可以轻松掌控每个开发者的权
限，并且管理一个 CVCS 要远比在各个客户端上维护本地数据库来得轻松容易。
事分两面，有好有坏。这么做最显而易见的缺点是中央服务器的单点故障。如果宕机一小
时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。要是中央服务器的磁盘发
生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢
失整个项目的所有历史更改记录，而被客户端偶然提取出来的保存在本地的某些快照数据就
成了恢复数据的希望。但这样的话依然是个问题，你不能保证所有的数据都已经有人事先完
整提取出来过。本地版本控制系统也存在类似问题，只要整个项目的历史记录被保存在单一
位置，就有丢失所有历史更新记录的风险。

1.1.3 分布式版本控制系统
于是分布式版本控制系统（ Distributed Version Control System，简称 DVCS ）面世
了。在这类系统中，像 Git，Mercurial，Bazaar 以及 Darcs 等，客户端并不只提取最新版
本的文件快照，而是把代码仓库完整地镜像下来。这么一来，任何一处协同工作用的服务器
发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际
上都是一次对代码仓库的完整备份（见图 1-3）。
图 1.3: 分布式版本控制系统
更进一步，许多这类系统都可以指定和若干不同的远端代码仓库进行交互。籍此，你就可
以在同一个项目中，分别和不同工作小组的人相互协作。你可以根据需要设定不同的协作流
程，比如层次模型式的工作流，而这在以前的集中式系统中是无法实现的。



文件快照是什么意思...

##1.2 git 简史
同生活中的许多伟大事件一样，Git 诞生于一个极富纷争大举创新的年代。Linux 内核开
源项目有着为数众广的参与者。绝大多数的 Linux 内核维护工作都花在了提交补丁和保存
归档的繁琐事务上（1991－2002年间）。到 2002 年，整个项目组开始启用分布式版本控
制系统 BitKeeper 来管理和维护代码。
到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他
们收回了免费使用 BitKeeper 的权力。这就迫使 Linux 开源社区（特别是 Linux 的缔造者
Linus Torvalds ）不得不吸取教训，只有开发一套属于自己的版本控制系统才不至于重蹈
覆辙。他们对新的系统制订了若干目标：

速度

简单的设计

对非线性开发模式的强力支持（允许上千个并行开发的分支）

完全分布式

有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）
自诞生于 2005 年以来，Git 日臻成熟完善，在高度易用的同时，仍然保留着初期设定的
目标。它的速度飞快，极其适合管理大项目，它还有着令人难以置信的非线性分支管理系统
（见第三章），可以应付各种复杂的项目开发需求。

##1.3 git 基础
Subversion Perforce 
